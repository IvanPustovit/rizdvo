{"ast":null,"code":"// Import необхідних бібліотек\nimport React,{useState}from'react';import axios from'axios';import{Button,TextField,CircularProgress,Typography,Box}from'@mui/material';import{styled}from'@mui/material/styles';import VideoList from'./VideoList';// Стилізація кнопки завантаження\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Input=styled('input')({display:'none'});const apiUrl=\"http://localhost:5000\";const UserVideoUpload=()=>{const[video,setVideo]=useState(null);const[title,setTitle]=useState('');const[username,setUsername]=useState('');const[loading,setLoading]=useState(false);const[successMessage,setSuccessMessage]=useState('');const handleFileChange=event=>{setVideo(event.target.files[0]);};const handleUpload=async()=>{if(!video||!title||!username){alert('Будь ласка, заповніть усі поля та оберіть файл.');return;}const formData=new FormData();formData.append('video',video);formData.append('title',title);formData.append('user',username);try{setLoading(true);setSuccessMessage('');const response=await axios.post(\"\".concat(apiUrl,\"/api/upload\"),formData,{headers:{'Content-Type':'multipart/form-data'}});if(response.status===200){setSuccessMessage('Відео успішно завантажено!');setVideo(null);setTitle('');setUsername('');}}catch(error){console.error('Помилка завантаження відео:',error);alert('Помилка завантаження відео. Спробуйте ще раз.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(Box,{sx:{maxWidth:500,margin:'auto',textAlign:'center',padding:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F \\u0432\\u0456\\u0434\\u0435\\u043E\"}),/*#__PURE__*/_jsx(TextField,{label:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0440\\u0442\\u0438\",variant:\"outlined\",fullWidth:true,margin:\"normal\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(TextField,{label:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u0432\\u0456\\u0434\\u0435\\u043E\",variant:\"outlined\",fullWidth:true,margin:\"normal\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"video-upload\",children:[/*#__PURE__*/_jsx(Input,{accept:\"video/*\",id:\"video-upload\",type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:\"span\",sx:{mt:2},children:\"\\u041E\\u0431\\u0440\\u0430\\u0442\\u0438 \\u0432\\u0456\\u0434\\u0435\\u043E\"})]}),video&&/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mt:2},children:[\"\\u041E\\u0431\\u0440\\u0430\\u043D\\u043E \\u0444\\u0430\\u0439\\u043B: \",video.name]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleUpload,disabled:loading,children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0438\\u0442\\u0438\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{size:24,sx:{ml:2}})]}),successMessage&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"success.main\",sx:{mt:2},children:successMessage})]});};export default UserVideoUpload;","map":{"version":3,"names":["React","useState","axios","Button","TextField","CircularProgress","Typography","Box","styled","VideoList","jsx","_jsx","jsxs","_jsxs","Input","display","apiUrl","UserVideoUpload","video","setVideo","title","setTitle","username","setUsername","loading","setLoading","successMessage","setSuccessMessage","handleFileChange","event","target","files","handleUpload","alert","formData","FormData","append","response","post","concat","headers","status","error","console","sx","maxWidth","margin","textAlign","padding","children","variant","gutterBottom","label","fullWidth","value","onChange","e","htmlFor","accept","id","type","component","mt","name","color","onClick","disabled","size","ml"],"sources":["G:/Works/rizdvo/server/client/src/Rizdvo.js"],"sourcesContent":["// Import необхідних бібліотек\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, TextField, CircularProgress, Typography, Box } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport VideoList from './VideoList';\r\n\r\n// Стилізація кнопки завантаження\r\nconst Input = styled('input')({\r\n  display: 'none',\r\n});\r\nconst apiUrl = \"http://localhost:5000\"\r\n\r\nconst UserVideoUpload = () => {\r\n  const [video, setVideo] = useState(null);\r\n  const [title, setTitle] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const handleFileChange = (event) => {\r\n    setVideo(event.target.files[0]);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!video || !title || !username) {\r\n      alert('Будь ласка, заповніть усі поля та оберіть файл.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('video', video);\r\n    formData.append('title', title);\r\n    formData.append('user', username);\r\n\r\n    try {\r\n      setLoading(true);\r\n      setSuccessMessage('');\r\n      const response = await axios.post(`${apiUrl}/api/upload`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        setSuccessMessage('Відео успішно завантажено!');\r\n        setVideo(null);\r\n        setTitle('');\r\n        setUsername('');\r\n      }\r\n    } catch (error) {\r\n      console.error('Помилка завантаження відео:', error);\r\n      alert('Помилка завантаження відео. Спробуйте ще раз.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 500, margin: 'auto', textAlign: 'center', padding: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Завантаження відео\r\n      </Typography>\r\n\r\n      <TextField\r\n        label=\"Номер карти\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        margin=\"normal\"\r\n        value={username}\r\n        onChange={(e) => setUsername(e.target.value)}\r\n      />\r\n\r\n      <TextField\r\n        label=\"Назва відео\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        margin=\"normal\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n\r\n      <label htmlFor=\"video-upload\">\r\n        <Input\r\n          accept=\"video/*\"\r\n          id=\"video-upload\"\r\n          type=\"file\"\r\n          onChange={handleFileChange}\r\n        />\r\n        <Button variant=\"contained\" component=\"span\" sx={{ mt: 2 }}>\r\n          Обрати відео\r\n        </Button>\r\n      </label>\r\n\r\n      {video && (\r\n        <Typography variant=\"body1\" sx={{ mt: 2 }}>\r\n          Обрано файл: {video.name}\r\n        </Typography>\r\n      )}\r\n\r\n      <Box sx={{ mt: 3 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleUpload}\r\n          disabled={loading}\r\n        >\r\n          Завантажити\r\n        </Button>\r\n        {loading && <CircularProgress size={24} sx={{ ml: 2 }} />}\r\n      </Box>\r\n\r\n      {successMessage && (\r\n        <Typography variant=\"body1\" color=\"success.main\" sx={{ mt: 2 }}>\r\n          {successMessage}\r\n        </Typography>\r\n      )}\r\n      {/* <VideoList/> */}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UserVideoUpload;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,SAAS,CAAEC,gBAAgB,CAAEC,UAAU,CAAEC,GAAG,KAAQ,eAAe,CACpF,OAASC,MAAM,KAAQ,sBAAsB,CAC7C,MAAO,CAAAC,SAAS,KAAM,aAAa,CAEnC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,KAAK,CAAGN,MAAM,CAAC,OAAO,CAAC,CAAC,CAC5BO,OAAO,CAAE,MACX,CAAC,CAAC,CACF,KAAM,CAAAC,MAAM,CAAG,uBAAuB,CAEtC,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyB,cAAc,CAAEC,iBAAiB,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAExD,KAAM,CAAA2B,gBAAgB,CAAIC,KAAK,EAAK,CAClCV,QAAQ,CAACU,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACd,KAAK,EAAI,CAACE,KAAK,EAAI,CAACE,QAAQ,CAAE,CACjCW,KAAK,CAAC,iDAAiD,CAAC,CACxD,OACF,CAEA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAElB,KAAK,CAAC,CAC/BgB,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEhB,KAAK,CAAC,CAC/Bc,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEd,QAAQ,CAAC,CAEjC,GAAI,CACFG,UAAU,CAAC,IAAI,CAAC,CAChBE,iBAAiB,CAAC,EAAE,CAAC,CACrB,KAAM,CAAAU,QAAQ,CAAG,KAAM,CAAAnC,KAAK,CAACoC,IAAI,IAAAC,MAAA,CAAIvB,MAAM,gBAAekB,QAAQ,CAAE,CAClEM,OAAO,CAAE,CACP,cAAc,CAAE,qBAClB,CACF,CAAC,CAAC,CAEF,GAAIH,QAAQ,CAACI,MAAM,GAAK,GAAG,CAAE,CAC3Bd,iBAAiB,CAAC,4BAA4B,CAAC,CAC/CR,QAAQ,CAAC,IAAI,CAAC,CACdE,QAAQ,CAAC,EAAE,CAAC,CACZE,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAE,MAAOmB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnDT,KAAK,CAAC,+CAA+C,CAAC,CACxD,CAAC,OAAS,CACRR,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEZ,KAAA,CAACN,GAAG,EAACqC,EAAE,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE,CAAE,CAAE,CAAAC,QAAA,eAC1EtC,IAAA,CAACL,UAAU,EAAC4C,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,yGAEtC,CAAY,CAAC,cAEbtC,IAAA,CAACP,SAAS,EACRgD,KAAK,CAAC,+DAAa,CACnBF,OAAO,CAAC,UAAU,CAClBG,SAAS,MACTP,MAAM,CAAC,QAAQ,CACfQ,KAAK,CAAEhC,QAAS,CAChBiC,QAAQ,CAAGC,CAAC,EAAKjC,WAAW,CAACiC,CAAC,CAAC1B,MAAM,CAACwB,KAAK,CAAE,CAC9C,CAAC,cAEF3C,IAAA,CAACP,SAAS,EACRgD,KAAK,CAAC,+DAAa,CACnBF,OAAO,CAAC,UAAU,CAClBG,SAAS,MACTP,MAAM,CAAC,QAAQ,CACfQ,KAAK,CAAElC,KAAM,CACbmC,QAAQ,CAAGC,CAAC,EAAKnC,QAAQ,CAACmC,CAAC,CAAC1B,MAAM,CAACwB,KAAK,CAAE,CAC3C,CAAC,cAEFzC,KAAA,UAAO4C,OAAO,CAAC,cAAc,CAAAR,QAAA,eAC3BtC,IAAA,CAACG,KAAK,EACJ4C,MAAM,CAAC,SAAS,CAChBC,EAAE,CAAC,cAAc,CACjBC,IAAI,CAAC,MAAM,CACXL,QAAQ,CAAE3B,gBAAiB,CAC5B,CAAC,cACFjB,IAAA,CAACR,MAAM,EAAC+C,OAAO,CAAC,WAAW,CAACW,SAAS,CAAC,MAAM,CAACjB,EAAE,CAAE,CAAEkB,EAAE,CAAE,CAAE,CAAE,CAAAb,QAAA,CAAC,qEAE5D,CAAQ,CAAC,EACJ,CAAC,CAEP/B,KAAK,eACJL,KAAA,CAACP,UAAU,EAAC4C,OAAO,CAAC,OAAO,CAACN,EAAE,CAAE,CAAEkB,EAAE,CAAE,CAAE,CAAE,CAAAb,QAAA,EAAC,iEAC5B,CAAC/B,KAAK,CAAC6C,IAAI,EACd,CACb,cAEDlD,KAAA,CAACN,GAAG,EAACqC,EAAE,CAAE,CAAEkB,EAAE,CAAE,CAAE,CAAE,CAAAb,QAAA,eACjBtC,IAAA,CAACR,MAAM,EACL+C,OAAO,CAAC,WAAW,CACnBc,KAAK,CAAC,SAAS,CACfC,OAAO,CAAEjC,YAAa,CACtBkC,QAAQ,CAAE1C,OAAQ,CAAAyB,QAAA,CACnB,oEAED,CAAQ,CAAC,CACRzB,OAAO,eAAIb,IAAA,CAACN,gBAAgB,EAAC8D,IAAI,CAAE,EAAG,CAACvB,EAAE,CAAE,CAAEwB,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,EACtD,CAAC,CAEL1C,cAAc,eACbf,IAAA,CAACL,UAAU,EAAC4C,OAAO,CAAC,OAAO,CAACc,KAAK,CAAC,cAAc,CAACpB,EAAE,CAAE,CAAEkB,EAAE,CAAE,CAAE,CAAE,CAAAb,QAAA,CAC5DvB,cAAc,CACL,CACb,EAEE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}